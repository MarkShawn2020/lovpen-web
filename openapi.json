{ "openapi": "3.1.0", "info": { "title": "Uni Api", "description": "聚合AGI行业的主流API，提供动态key管理、算法调度、前端监控、可扩展性配置等功能 （opensource: https://github.com/cs-magic/uni-api）", "version": "0.5.0" }, "paths": { "/account/register": { "post": { "tags": ["Account"], "summary": "Register User", "operationId": "register_user_account_register_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserCreate" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/account/token": { "post": { "tags": ["Account"], "summary": "Login For Access Token", "operationId": "login_for_access_token_account_token_post", "requestBody": { "content": { "application/x-www-form-urlencoded": { "schema": { "$ref": "#/components/schemas/Body_login_for_access_token_account_token_post" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Token" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/account/deposit": { "post": { "tags": ["Account"], "summary": "Create Deposit", "operationId": "create_deposit_account_deposit_post", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "amount", "in": "query", "required": true, "schema": { "type": "number", "title": "Amount" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/account/webhook/stripe": { "post": { "tags": ["Account"], "summary": "Stripe Webhook", "operationId": "stripe_webhook_account_webhook_stripe_post", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } } } }, "/account/me": { "get": { "tags": ["Account"], "summary": "Read Users Me", "operationId": "read_users_me_account_me_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserResponse" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/account/consume-credits": { "post": { "tags": ["Account"], "summary": "Consume Credits", "operationId": "consume_credits_account_consume_credits_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/CreditsCheck" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/account/oauth/login/{provider}": { "post": { "tags": ["Account"], "summary": "Oauth Login", "operationId": "oauth_login_account_oauth_login__provider__post", "parameters": [{ "name": "provider", "in": "path", "required": true, "schema": { "type": "string", "title": "Provider" } }, { "name": "token", "in": "query", "required": true, "schema": { "type": "string", "title": "Token" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Token" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/items/": { "post": { "tags": ["Knowledge"], "summary": "Create Knowledge Item", "description": "创建知识项", "operationId": "create_knowledge_item_knowledge_items__post", "security": [{ "OAuth2PasswordBearer": [] }], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/KnowledgeItemCreate" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/KnowledgeItemResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } }, "get": { "tags": ["Knowledge"], "summary": "List Knowledge Items", "description": "列出用户的知识项", "operationId": "list_knowledge_items_knowledge_items__get", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "limit", "in": "query", "required": false, "schema": { "type": "integer", "default": 20, "title": "Limit" } }, { "name": "offset", "in": "query", "required": false, "schema": { "type": "integer", "default": 0, "title": "Offset" } }, { "name": "item_type", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Item Type" } }, { "name": "platform", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Platform" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/SearchResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/items/upload": { "post": { "tags": ["Knowledge"], "summary": "Upload Knowledge Item", "description": "上传文件到知识库\n支持文本、图片、视频、文档等多种格式", "operationId": "upload_knowledge_item_knowledge_items_upload_post", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "title", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Title" } }], "requestBody": { "required": true, "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_upload_knowledge_item_knowledge_items_upload_post" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/KnowledgeItemResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/items/search": { "get": { "tags": ["Knowledge"], "summary": "Search Knowledge Items", "description": "基础搜索功能\n支持关键词搜索和过滤", "operationId": "search_knowledge_items_knowledge_items_search_get", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "query", "in": "query", "required": true, "schema": { "type": "string", "title": "Query" } }, { "name": "limit", "in": "query", "required": false, "schema": { "type": "integer", "default": 20, "title": "Limit" } }, { "name": "offset", "in": "query", "required": false, "schema": { "type": "integer", "default": 0, "title": "Offset" } }, { "name": "item_type", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Item Type" } }, { "name": "platform", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Platform" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/SearchResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/items/{item_id}": { "get": { "tags": ["Knowledge"], "summary": "Get Knowledge Item", "description": "获取单个知识项详情", "operationId": "get_knowledge_item_knowledge_items__item_id__get", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "item_id", "in": "path", "required": true, "schema": { "type": "string", "format": "uuid", "title": "Item Id" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/KnowledgeItemResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } }, "put": { "tags": ["Knowledge"], "summary": "Update Knowledge Item", "description": "更新知识项", "operationId": "update_knowledge_item_knowledge_items__item_id__put", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "item_id", "in": "path", "required": true, "schema": { "type": "string", "format": "uuid", "title": "Item Id" } }], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/KnowledgeItemUpdate" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/KnowledgeItemResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } }, "delete": { "tags": ["Knowledge"], "summary": "Delete Knowledge Item", "description": "删除知识项", "operationId": "delete_knowledge_item_knowledge_items__item_id__delete", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "item_id", "in": "path", "required": true, "schema": { "type": "string", "format": "uuid", "title": "Item Id" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/items/batch-delete": { "post": { "tags": ["Knowledge"], "summary": "Batch Delete By Filename", "description": "按文件名模糊删除知识项\n\n支持SQL LIKE语法模式匹配：\n- % 匹配任意字符串\n- _ 匹配单个字符\n- 示例: \"%.md\" 匹配所有md文件, \"test%\" 匹配以test开头的文件", "operationId": "batch_delete_by_filename_knowledge_items_batch_delete_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/BatchDeleteRequest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/BatchDeleteResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/platforms/wechat/sync": { "post": { "tags": ["Knowledge"], "summary": "Sync Wechat Data", "description": "微信聊天记录同步\n- 支持聊天记录导出文件解析\n- 实时消息同步（通过第三方工具）", "operationId": "sync_wechat_data_knowledge_platforms_wechat_sync_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/PlatformSyncRequest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/platforms/flomo/sync": { "post": { "tags": ["Knowledge"], "summary": "Sync Flomo Data", "description": "Flomo 笔记同步\n- API集成\n- 标签和时间戳保持", "operationId": "sync_flomo_data_knowledge_platforms_flomo_sync_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/PlatformSyncRequest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/platforms/feishu/sync": { "post": { "tags": ["Knowledge"], "summary": "Sync Feishu Data", "description": "飞书文档同步\n- 文档、表格、演示文稿\n- 协作评论和版本历史", "operationId": "sync_feishu_data_knowledge_platforms_feishu_sync_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/PlatformSyncRequest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/platforms/notion/sync": { "post": { "tags": ["Knowledge"], "summary": "Sync Notion Data", "description": "Notion 数据库和页面同步\n- 页面内容和数据库记录\n- 关系和属性保持", "operationId": "sync_notion_data_knowledge_platforms_notion_sync_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/PlatformSyncRequest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/platforms/status": { "get": { "tags": ["Knowledge"], "summary": "Get Platform Status", "description": "获取所有平台同步状态", "operationId": "get_platform_status_knowledge_platforms_status_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "additionalProperties": { "$ref": "#/components/schemas/PlatformStatus" }, "type": "object", "title": "Response Get Platform Status Knowledge Platforms Status Get" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/platforms/{platform}/pause": { "post": { "tags": ["Knowledge"], "summary": "Pause Platform Sync", "description": "暂停平台同步", "operationId": "pause_platform_sync_knowledge_platforms__platform__pause_post", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "platform", "in": "path", "required": true, "schema": { "type": "string", "title": "Platform" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/platforms/{platform}/resume": { "post": { "tags": ["Knowledge"], "summary": "Resume Platform Sync", "description": "恢复平台同步", "operationId": "resume_platform_sync_knowledge_platforms__platform__resume_post", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "platform", "in": "path", "required": true, "schema": { "type": "string", "title": "Platform" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/platforms/{platform}": { "delete": { "tags": ["Knowledge"], "summary": "Disconnect Platform", "description": "断开平台连接", "operationId": "disconnect_platform_knowledge_platforms__platform__delete", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "platform", "in": "path", "required": true, "schema": { "type": "string", "title": "Platform" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/ai/search": { "post": { "tags": ["Knowledge"], "summary": "Ai Search", "description": "AI智能搜索 - 高级版本\n\n功能特性：\n- 混合检索：结合关键词匹配和语义理解\n- 查询优化：自动查询扩展和意图识别\n- 智能排序：RRF算法融合多种相关性信号\n- 内容高亮：关键词高亮显示\n- 推理解释：可选的结果推理说明\n\n性能优化：\n- 多级缓存：内存+Redis缓存热门查询\n- 并行处理：多路检索器并发执行\n- 索引加速：FAISS向量索引快速检索", "operationId": "ai_search_knowledge_ai_search_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AISearchRequest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/AdvancedSearchResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/ai/reasoning": { "post": { "tags": ["Knowledge"], "summary": "Ai Reasoning", "description": "AI推理和知识综合\n- 从多个知识源综合信息\n- 发现知识间的关联\n- 生成洞察和建议", "operationId": "ai_reasoning_knowledge_ai_reasoning_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ReasoningRequest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/ai/connections": { "post": { "tags": ["Knowledge"], "summary": "Discover Connections", "description": "发现知识项之间的关联", "operationId": "discover_connections_knowledge_ai_connections_post", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "item_id", "in": "query", "required": true, "schema": { "type": "string", "title": "Item Id" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/ai/summarize": { "post": { "tags": ["Knowledge"], "summary": "Summarize Knowledge", "description": "知识摘要生成", "operationId": "summarize_knowledge_knowledge_ai_summarize_post", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "summary_type", "in": "query", "required": false, "schema": { "type": "string", "default": "overview", "title": "Summary Type" } }], "requestBody": { "required": true, "content": { "application/json": { "schema": { "type": "array", "items": { "type": "string" }, "title": "Item Ids" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/analytics/insights": { "get": { "tags": ["Knowledge"], "summary": "Get Knowledge Insights", "description": "知识库洞察分析\n- 知识增长趋势\n- 主题分布\n- 关联网络\n- 使用模式", "operationId": "get_knowledge_insights_knowledge_analytics_insights_get", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "timeframe", "in": "query", "required": false, "schema": { "type": "string", "default": "month", "title": "Timeframe" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/KnowledgeInsight" }, "title": "Response Get Knowledge Insights Knowledge Analytics Insights Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/analytics/usage": { "get": { "tags": ["Knowledge"], "summary": "Get Usage Analytics", "description": "使用情况分析\n- 搜索频率\n- 平台活跃度\n- AI功能使用\n- 存储统计", "operationId": "get_usage_analytics_knowledge_analytics_usage_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "additionalProperties": true, "type": "object", "title": "Response Get Usage Analytics Knowledge Analytics Usage Get" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/analytics/topics": { "get": { "tags": ["Knowledge"], "summary": "Get Topic Analysis", "description": "主题分析\n- 主题聚类\n- 热点话题\n- 话题演化", "operationId": "get_topic_analysis_knowledge_analytics_topics_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "additionalProperties": true, "type": "object", "title": "Response Get Topic Analysis Knowledge Analytics Topics Get" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/analytics/network": { "get": { "tags": ["Knowledge"], "summary": "Get Knowledge Network", "description": "知识网络分析\n- 节点关系图\n- 中心性分析\n- 社区发现", "operationId": "get_knowledge_network_knowledge_analytics_network_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "additionalProperties": true, "type": "object", "title": "Response Get Knowledge Network Knowledge Analytics Network Get" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/vector/vectorize": { "post": { "tags": ["Knowledge"], "summary": "Start Vectorization", "description": "启动文档向量化任务\n\n功能：\n- 单个文档向量化\n- 批量文档向量化  \n- 全量重新索引\n- 增量索引更新", "operationId": "start_vectorization_knowledge_vector_vectorize_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/VectorizationRequest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "additionalProperties": { "type": "string" }, "type": "object", "title": "Response Start Vectorization Knowledge Vector Vectorize Post" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/vector/vectorize/status": { "get": { "tags": ["Knowledge"], "summary": "Get Vectorization Status", "description": "获取向量化任务状态", "operationId": "get_vectorization_status_knowledge_vector_vectorize_status_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/VectorizationStatus" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/vector/index/stats": { "get": { "tags": ["Knowledge"], "summary": "Get Index Stats", "description": "获取索引统计信息", "operationId": "get_index_stats_knowledge_vector_index_stats_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/IndexStats" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/vector/index/rebuild": { "post": { "tags": ["Knowledge"], "summary": "Rebuild Index", "description": "重建用户的完整索引", "operationId": "rebuild_index_knowledge_vector_index_rebuild_post", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/vector/index/clear": { "delete": { "tags": ["Knowledge"], "summary": "Clear Index", "description": "清空用户的索引数据", "operationId": "clear_index_knowledge_vector_index_clear_delete", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/knowledge/vector/document/{item_id}/vectorize": { "post": { "tags": ["Knowledge"], "summary": "Vectorize Single Document", "description": "向量化单个文档", "operationId": "vectorize_single_document_knowledge_vector_document__item_id__vectorize_post", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "item_id", "in": "path", "required": true, "schema": { "type": "string", "format": "uuid", "title": "Item Id" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/knowledge/vector/search/performance": { "get": { "tags": ["Knowledge"], "summary": "Get Search Performance", "description": "获取搜索性能指标", "operationId": "get_search_performance_knowledge_vector_search_performance_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/llm/base": { "post": { "tags": ["LLM"], "summary": "Call Llm ", "operationId": "call_llm__llm_base_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ILLMBody" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/llm/agent": { "post": { "tags": ["LLM"], "summary": "Call Agent ", "operationId": "call_agent__llm_agent_post", "parameters": [{ "name": "stream_delay", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "number" }, { "type": "null" }], "title": "Stream Delay" } }], "requestBody": { "required": true, "content": { "application/x-www-form-urlencoded": { "schema": { "$ref": "#/components/schemas/Body_call_agent__llm_agent_post" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/llm/totem/gen": { "get": { "tags": ["LLM"], "summary": "Gen Totem", "operationId": "gen_totem_llm_totem_gen_get", "parameters": [{ "name": "name", "in": "query", "required": true, "schema": { "type": "string", "title": "Name" } }, { "name": "stream_delay", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "number" }, { "type": "null" }], "description": "None: 不流；数字: 流间隔（秒）", "title": "Stream Delay" }, "description": "None: 不流；数字: 流间隔（秒）" }, { "name": "format", "in": "query", "required": false, "schema": { "enum": ["string", "png"], "type": "string", "description": "stream 条件下 format 始终为 string", "default": "png", "title": "Format" }, "description": "stream 条件下 format 始终为 string" }, { "name": "ppi", "in": "query", "required": false, "schema": { "type": "integer", "default": 300, "title": "Ppi" } }, { "name": "width", "in": "query", "required": false, "schema": { "type": "integer", "default": 320, "title": "Width" } }, { "name": "mock", "in": "query", "required": false, "schema": { "type": "boolean", "description": "启用后将跳过大模型调用，直接用样本数据返回，数据结构与 claude 相同", "default": false, "title": "Mock" }, "description": "启用后将跳过大模型调用，直接用样本数据返回，数据结构与 claude 相同" }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/llm/openai/list-models": { "get": { "tags": ["LLM"], "summary": "List Models", "operationId": "list_models_llm_openai_list_models_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } } } }, "/spider/parse-url": { "get": { "tags": ["Spider"], "summary": "Parse Url ", "operationId": "parse_url__spider_parse_url_get", "parameters": [{ "name": "url", "in": "query", "required": true, "schema": { "type": "string", "title": "Url" } }, { "name": "summary_model", "in": "query", "required": false, "schema": { "anyOf": [{ "enum": ["gpt-3.5-turbo", "gpt-3.5-turbo-16k", "gpt-3.5-turbo-0301", "gpt-3.5-turbo-0613", "gpt-3.5-turbo-1106", "gpt-3.5-turbo-0125", "gpt-3.5-turbo-16k-0613", "gpt-4-0125-preview", "gpt-4-turbo-preview", "gpt-4-1106-preview", "gpt-4-vision-preview", "gpt-4", "gpt-4-0314", "gpt-4-0613", "gpt-4-32k", "gpt-4-32k-0314", "gpt-4-32k-0613", "moonshot-v1_plain-8k", "moonshot-v1_plain-32k", "moonshot-v1_plain-128k", "glm-3-turbo", "glm-4", "abab6-chat", "abab5.5-chat", "abab5.5s-chat", "qwen-turbo", "qwen-plus", "qwen-max", "Baichuan2-Turbo", "Baichuan2-Turbo-192k", "Doubao-lite-4k", "Doubao-lite-32k", "Doubao-lite-128k", "Doubao-pro-4k", "Doubao-pro-32k", "Doubao-pro-128k", "claude-3-5-sonnet-20240620"], "type": "string" }, { "type": "null" }], "title": "Summary Model" } }, { "name": "md_with_img", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "default": false, "title": "Md With Img" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ICard" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/oss/upload": { "post": { "tags": ["OSS"], "summary": "Oss Upload File", "operationId": "oss_upload_file_oss_upload_post", "requestBody": { "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_oss_upload_file_oss_upload_post" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/vpn/config": { "get": { "tags": ["VPN"], "summary": "Get Vpn Config", "operationId": "get_vpn_config_vpn_config_get", "parameters": [{ "name": "provider", "in": "query", "required": false, "schema": { "$ref": "#/components/schemas/Provider", "default": "foosber" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/vpn/upload-cache.db": { "post": { "tags": ["VPN"], "summary": "Upload Cache Db", "description": "需要和 config.yaml 配套", "operationId": "upload_cache_db_vpn_upload_cache_db_post", "requestBody": { "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_upload_cache_db_vpn_upload_cache_db_post" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/vpn/clash.zip": { "get": { "tags": ["VPN"], "summary": "Install Vpn", "operationId": "install_vpn_vpn_clash_zip_get", "parameters": [{ "name": "clash_version", "in": "query", "required": false, "schema": { "default": "2.0.24", "title": "Clash Version" } }, { "name": "clash_platform", "in": "query", "required": false, "schema": { "default": "linux_amd64", "title": "Clash Platform" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/vpn/install-clash.sh": { "get": { "tags": ["VPN"], "summary": "Get Install Clash", "operationId": "get_install_clash_vpn_install_clash_sh_get", "parameters": [{ "name": "clash_version", "in": "query", "required": false, "schema": { "default": "2.0.24", "title": "Clash Version" } }, { "name": "clash_platform", "in": "query", "required": false, "schema": { "default": "linux_amd64", "title": "Clash Platform" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/sport/badminton": { "get": { "tags": ["Badminton"], "summary": "Get Badminton Status", "operationId": "get_badminton_status_sport_badminton_get", "parameters": [{ "name": "gym", "in": "query", "required": true, "schema": { "enum": ["北科大体育馆", "清华大学气膜馆", "清华大学综合体育馆", "清华大学西区体育馆", "人大羽毛球主馆"], "type": "string", "description": "体育场名称", "title": "Gym" }, "description": "体育场名称" }, { "name": "date", "in": "query", "required": true, "schema": { "type": "string", "format": "date", "description": "查询日期", "title": "Date" }, "description": "查询日期" }, { "name": "wxkey", "in": "query", "required": false, "schema": { "type": "string", "description": "可选参数，wxkey", "default": "E7E7EB4C8EC1A817B3858271B986FBBA0ECE35796DD6B28992DAB943C20CC2235734D8DD36E20AB6425DAE0E30E8080E00B5149C31AAF8D018D123A07C6050749A515AAC19DB70160859E9EE5FF6DEAE9B334F09023BE6F61BB91363F397FA23EB7BBFA004E489EF26F39A1B23C0FD49", "title": "Wxkey" }, "description": "可选参数，wxkey" }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/BadmintonCourtStatus" }, "title": "Response Get Badminton Status Sport Badminton Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/map/gaode/geo": { "get": { "tags": ["Map"], "summary": "Geocode", "operationId": "geocode_map_gaode_geo_get", "parameters": [{ "name": "address", "in": "query", "required": true, "schema": { "type": "string", "description": "结构化地址信息", "title": "Address" }, "description": "结构化地址信息" }, { "name": "city", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "指定查询的城市", "title": "City" }, "description": "指定查询的城市" }, { "name": "output", "in": "query", "required": false, "schema": { "type": "string", "description": "返回数据格式类型", "default": "JSON", "title": "Output" }, "description": "返回数据格式类型" }, { "name": "callback", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "回调函数", "title": "Callback" }, "description": "回调函数" }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/map/gaode/regeo": { "get": { "tags": ["Map"], "summary": "Reverse Geocode", "operationId": "reverse_geocode_map_gaode_regeo_get", "parameters": [{ "name": "location", "in": "query", "required": true, "schema": { "type": "string", "description": "经纬度坐标", "title": "Location" }, "description": "经纬度坐标" }, { "name": "poitype", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "返回附近POI类型", "title": "Poitype" }, "description": "返回附近POI类型" }, { "name": "radius", "in": "query", "required": false, "schema": { "type": "integer", "description": "搜索半径", "default": 1000, "title": "Radius" }, "description": "搜索半径" }, { "name": "extensions", "in": "query", "required": false, "schema": { "type": "string", "description": "返回结果控制", "default": "base", "title": "Extensions" }, "description": "返回结果控制" }, { "name": "roadlevel", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "integer" }, { "type": "null" }], "description": "道路等级", "title": "Roadlevel" }, "description": "道路等级" }, { "name": "output", "in": "query", "required": false, "schema": { "type": "string", "description": "返回数据格式类型", "default": "JSON", "title": "Output" }, "description": "返回数据格式类型" }, { "name": "callback", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "回调函数", "title": "Callback" }, "description": "回调函数" }, { "name": "homeorcorp", "in": "query", "required": false, "schema": { "type": "integer", "description": "是否优化POI返回顺序", "default": 0, "title": "Homeorcorp" }, "description": "是否优化POI返回顺序" }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/map/baidu/reverse_geocoding": { "get": { "tags": ["Map"], "summary": "Baidu Reverse Geocoding", "operationId": "baidu_reverse_geocoding_map_baidu_reverse_geocoding_get", "parameters": [{ "name": "location", "in": "query", "required": true, "schema": { "type": "string", "description": "经纬度坐标", "title": "Location" }, "description": "经纬度坐标" }, { "name": "coordtype", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "坐标类型", "default": "bd09ll", "title": "Coordtype" }, "description": "坐标类型" }, { "name": "ret_coordtype", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "返回的坐标类型", "title": "Ret Coordtype" }, "description": "返回的坐标类型" }, { "name": "extensions_poi", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "integer" }, { "type": "null" }], "description": "是否返回POI数据", "default": 0, "title": "Extensions Poi" }, "description": "是否返回POI数据" }, { "name": "extensions_road", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "description": "是否返回道路数据", "default": false, "title": "Extensions Road" }, "description": "是否返回道路数据" }, { "name": "radius", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "integer" }, { "type": "null" }], "description": "POI召回半径", "default": 1000, "title": "Radius" }, "description": "POI召回半径" }, { "name": "output", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "输出格式", "default": "json", "title": "Output" }, "description": "输出格式" }, { "name": "language", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "返回结果语言", "title": "Language" }, "description": "返回结果语言" }, { "name": "language_auto", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "integer" }, { "type": "null" }], "description": "是否自动填充行政区划", "title": "Language Auto" }, "description": "是否自动填充行政区划" }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/map/baidu/geocoding": { "get": { "tags": ["Map"], "summary": "Baidu Geocoding", "operationId": "baidu_geocoding_map_baidu_geocoding_get", "parameters": [{ "name": "address", "in": "query", "required": true, "schema": { "type": "string", "description": "待解析的地址", "title": "Address" }, "description": "待解析的地址" }, { "name": "city", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "地址所在的城市名", "title": "City" }, "description": "地址所在的城市名" }, { "name": "ret_coordtype", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "返回的坐标类型", "title": "Ret Coordtype" }, "description": "返回的坐标类型" }, { "name": "output", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "输出格式", "default": "json", "title": "Output" }, "description": "输出格式" }, { "name": "callback", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "回调函数名称", "title": "Callback" }, "description": "回调函数名称" }, { "name": "extension_analys_level", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "integer" }, { "type": "null" }], "description": "是否触发解析到最小地址结构功能", "title": "Extension Analys Level" }, "description": "是否触发解析到最小地址结构功能" }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/map/tencent/geocoder": { "get": { "tags": ["Map"], "summary": "Geocoder", "operationId": "geocoder_map_tencent_geocoder_get", "parameters": [{ "name": "address", "in": "query", "required": true, "schema": { "type": "string", "description": "要解析获取坐标及相关信息的输入地址", "title": "Address" }, "description": "要解析获取坐标及相关信息的输入地址" }, { "name": "output", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "返回格式：支持JSON/JSONP，默认JSON", "default": "json", "title": "Output" }, "description": "返回格式：支持JSON/JSONP，默认JSON" }, { "name": "callback", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "JSONP方式回调函数", "title": "Callback" }, "description": "JSONP方式回调函数" }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/GeocoderResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/uni-pusher/jike/auth/get-verification-code": { "post": { "tags": ["uni-pusher", "即刻"], "summary": "Get Verification Code", "operationId": "get_verification_code_uni_pusher_jike_auth_get_verification_code_post", "parameters": [{ "name": "phone_number", "in": "query", "required": true, "schema": { "type": "string", "title": "Phone Number" } }, { "name": "phone_area", "in": "query", "required": false, "schema": { "default": "+86", "title": "Phone Area" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/uni-pusher/jike/auth/verify-code": { "post": { "tags": ["uni-pusher", "即刻"], "summary": "Verify Code", "operationId": "verify_code_uni_pusher_jike_auth_verify_code_post", "parameters": [{ "name": "phone_number", "in": "query", "required": true, "schema": { "type": "string", "title": "Phone Number" } }, { "name": "area_code", "in": "query", "required": false, "schema": { "default": "+86", "title": "Area Code" } }, { "name": "code", "in": "query", "required": true, "schema": { "type": "string", "title": "Code" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/uni-pusher/jike/auth/refresh-token": { "post": { "tags": ["uni-pusher", "即刻"], "summary": "Refresh Token", "operationId": "refresh_token_uni_pusher_jike_auth_refresh_token_post", "parameters": [{ "name": "refresh_token", "in": "query", "required": true, "schema": { "type": "string", "title": "Refresh Token" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/uni-pusher/jike/rss/check": { "post": { "tags": ["uni-pusher", "即刻"], "summary": "Check Rss", "operationId": "check_rss_uni_pusher_jike_rss_check_post", "parameters": [{ "name": "custom_cookie", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Custom Cookie" } }, { "name": "access_token", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Access Token" } }, { "name": "refresh_token", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Refresh Token" } }, { "name": "fetchRankedUpdate", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Fetchrankedupdate" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/uni-pusher/jike/profile": { "get": { "tags": ["uni-pusher", "即刻"], "summary": "Read Profile", "operationId": "read_profile_uni_pusher_jike_profile_get", "parameters": [{ "name": "custom_cookie", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Custom Cookie" } }, { "name": "access_token", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Access Token" } }, { "name": "refresh_token", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Refresh Token" } }, { "name": "fetchRankedUpdate", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Fetchrankedupdate" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/uni-pusher/jike/search-topics": { "post": { "tags": ["uni-pusher", "即刻"], "summary": "Search Topics", "operationId": "search_topics_uni_pusher_jike_search_topics_post", "parameters": [{ "name": "keywords", "in": "query", "required": true, "schema": { "type": "string", "title": "Keywords" } }, { "name": "custom_cookie", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Custom Cookie" } }, { "name": "access_token", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Access Token" } }, { "name": "refresh_token", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Refresh Token" } }, { "name": "fetchRankedUpdate", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Fetchrankedupdate" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Topic" }, "title": "Response Search Topics Uni Pusher Jike Search Topics Post" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/uni-pusher/jike/twitter": { "post": { "tags": ["uni-pusher", "即刻"], "summary": "Push Twitter", "operationId": "push_twitter_uni_pusher_jike_twitter_post", "parameters": [{ "name": "custom_cookie", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Custom Cookie" } }, { "name": "access_token", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Access Token" } }, { "name": "refresh_token", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Refresh Token" } }, { "name": "fetchRankedUpdate", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Fetchrankedupdate" } }], "requestBody": { "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_push_twitter_uni_pusher_jike_twitter_post" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/uni-pusher/zsxq/content": { "post": { "tags": ["uni-pusher"], "summary": "Groups 51111828288514 Topics", "description": "Route generated from curl command\nOriginal URL: https://api.zsxq.com/v2/groups/51111828288514/topics\nMethod: POST", "operationId": "groups_51111828288514_topics_uni_pusher_zsxq_content_post", "parameters": [{ "name": "custom-cookie", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "", "title": "Custom-Cookie" } }, { "name": "x-request-id", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "239dc4d1c-0679-f2cc-d21c-d3dcd822013", "title": "X-Request-Id" } }, { "name": "x-version", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "2.64.0", "title": "X-Version" } }, { "name": "x-timestamp", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "1730731549", "title": "X-Timestamp" } }, { "name": "x-signature", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "90500d7ba435ab968bf0193996b27ff68e4850c2", "title": "X-Signature" } }, { "name": "referer", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "https://wx.zsxq.com/", "title": "Referer" } }, { "name": "sec-ch-ua-platform", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "", "title": "Sec-Ch-Ua-Platform" } }, { "name": "sec-ch-ua", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "", "title": "Sec-Ch-Ua" } }, { "name": "user-agent", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36", "title": "User-Agent" } }, { "name": "accept", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "application/json, text/plain, */*", "title": "Accept" } }, { "name": "dnt", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "1", "title": "Dnt" } }, { "name": "content-type", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "application/json", "title": "Content-Type" } }, { "name": "origin", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "https://wx.zsxq.com", "title": "Origin" } }, { "name": "sec-ch-ua-mobile", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "?0", "title": "Sec-Ch-Ua-Mobile" } }, { "name": "sec-fetch-site", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "same-site", "title": "Sec-Fetch-Site" } }, { "name": "sec-fetch-mode", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "cors", "title": "Sec-Fetch-Mode" } }, { "name": "sec-fetch-dest", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "empty", "title": "Sec-Fetch-Dest" } }, { "name": "accept-language", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "en-US,en;q=0.9", "title": "Accept-Language" } }, { "name": "priority", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "u=1, i", "title": "Priority" } }], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/Twitter" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "object", "additionalProperties": true, "title": "Response Groups 51111828288514 Topics Uni Pusher Zsxq Content Post" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/uni-pusher/zsxq/profile": { "get": { "tags": ["uni-pusher"], "summary": "Zsxq Profile", "description": "Route generated from curl command\nOriginal URL: https://api.zsxq.com/v3/users/self\nMethod: GET", "operationId": "zsxq_profile_uni_pusher_zsxq_profile_get", "parameters": [{ "name": "custom-cookie", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "", "title": "Custom-Cookie" } }, { "name": "x-timestamp", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "1730907137", "title": "X-Timestamp" } }, { "name": "x-request-id", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "dff4f1bc8-eb5f-4724-a28c-0e775b7fde0", "title": "X-Request-Id" } }, { "name": "x-signature", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "965d4028443950d8942100b5f66ec350d9be3383", "title": "X-Signature" } }, { "name": "x-version", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "2.65.0", "title": "X-Version" } }, { "name": "sec-ch-ua-platform", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "", "title": "Sec-Ch-Ua-Platform" } }, { "name": "sec-ch-ua", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "", "title": "Sec-Ch-Ua" } }, { "name": "sec-ch-ua-mobile", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "?0", "title": "Sec-Ch-Ua-Mobile" } }, { "name": "user-agent", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/130.0.0.0 Safari/537.36", "title": "User-Agent" } }, { "name": "accept", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "application/json, text/plain, */*", "title": "Accept" } }, { "name": "dnt", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "1", "title": "Dnt" } }, { "name": "origin", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "https://wx.zsxq.com", "title": "Origin" } }, { "name": "sec-fetch-site", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "same-site", "title": "Sec-Fetch-Site" } }, { "name": "sec-fetch-mode", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "cors", "title": "Sec-Fetch-Mode" } }, { "name": "sec-fetch-dest", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "empty", "title": "Sec-Fetch-Dest" } }, { "name": "referer", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "https://wx.zsxq.com/", "title": "Referer" } }, { "name": "accept-language", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "en-US,en;q=0.9", "title": "Accept-Language" } }, { "name": "priority", "in": "header", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "default": "u=1, i", "title": "Priority" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "object", "additionalProperties": true, "title": "Response Zsxq Profile Uni Pusher Zsxq Profile Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/wechat/official-account/search": { "get": { "tags": ["微信"], "summary": "Search Wechat Official Account", "operationId": "search_wechat_official_account_wechat_official_account_search_get", "security": [{ "APIKeyHeader": [] }], "parameters": [{ "name": "keyword", "in": "query", "required": true, "schema": { "type": "string", "title": "Keyword" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/wechat/official-account/article/list": { "get": { "tags": ["微信"], "summary": "List Wechat Official Account Articles", "operationId": "list_wechat_official_account_articles_wechat_official_account_article_list_get", "security": [{ "APIKeyHeader": [] }], "parameters": [{ "name": "wechat_account_name", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "description": "当指定 name 的时候，id 无效", "title": "Wechat Account Name" }, "description": "当指定 name 的时候，id 无效" }, { "name": "wechat_account_id", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Wechat Account Id" } }, { "name": "begin", "in": "query", "required": false, "schema": { "default": 0, "title": "Begin" } }, { "name": "count", "in": "query", "required": false, "schema": { "default": 5, "title": "Count" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/wechat/official-account/article/detail": { "get": { "tags": ["微信"], "summary": "Parse Wechat Official Account Article", "description": "Parse a WeChat article by its ID.\n\nParameters:\n- article_id: The WeChat article ID\n- with_article_html: Include full article HTML in response (only for JSON response)\n- with_content_html: Include content HTML in response (only for JSON response)\n- with_content_md: Include content in Markdown format (only for JSON response)\n- response_type: Type of response to return:\n  - \"json\": Return article data as JSON (default)\n  - \"html\": Return or download article as HTML file\n  - \"markdown\": Return or download article as Markdown file\n- preprocess_images: When True, replace image src placeholders with actual URLs for local viewing\n- download: When True, download the file (for \"html\" and \"markdown\" response types);\n           when False, return text content without downloading", "operationId": "parse_wechat_official_account_article_wechat_official_account_article_detail_get", "parameters": [{ "name": "article_id", "in": "query", "required": true, "schema": { "type": "string", "title": "Article Id" } }, { "name": "with_article_html", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "default": false, "title": "With Article Html" } }, { "name": "with_content_html", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "default": false, "title": "With Content Html" } }, { "name": "with_content_md", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "default": true, "title": "With Content Md" } }, { "name": "response_type", "in": "query", "required": false, "schema": { "anyOf": [{ "enum": ["json", "html", "markdown"], "type": "string" }, { "type": "null" }], "default": "markdown", "title": "Response Type" } }, { "name": "preprocess_images", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "default": true, "title": "Preprocess Images" } }, { "name": "download", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "default": false, "title": "Download" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/wechat/official-account/article/arthur/detail": { "get": { "tags": ["微信"], "summary": "Parse Arthur Article", "operationId": "parse_arthur_article_wechat_official_account_article_arthur_detail_get", "security": [{ "APIKeyHeader": [] }], "parameters": [{ "name": "article_id", "in": "query", "required": false, "schema": { "type": "string", "default": "EV2gRTeD_6NtDaaANTT7TQ", "title": "Article Id" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/wechat/official-account/auth/set-credentials": { "post": { "tags": ["微信"], "summary": "Set Wechat Credentials", "description": "Set WeChat credentials (cookies and token) for API calls and get an API token.\n\nTo obtain these credentials:\n1. Visit: https://mp.weixin.qq.com/cgi-bin/appmsg?t=media/appmsg_edit_v2&action=edit&isNew=1&type=77&createType=0\n2. Open browser developer tools (F12 or right-click > Inspect)\n3. Go to Network tab\n4. Find a request to '/cgi-bin/searchbiz?' endpoint\n5. From the request:\n   - Extract the 'token' parameter from the request URL\n   - Copy all cookies from the request headers\n\nYou can provide cookies in two ways:\n- As a dictionary in the 'cookies' field\n- As a raw cookie string in the 'cookie_string' field (the format you'd copy from browser dev tools)\n\nAfter setting credentials, use the returned API token in the X-WechatMP-Token header for all requests.", "operationId": "set_wechat_credentials_wechat_official_account_auth_set_credentials_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/WechatCredentials" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/ApiTokenResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/wechat/official-account/auth/status": { "get": { "tags": ["微信"], "summary": "Check Auth Status", "description": "Check if WeChat credentials are set for the given API token.\n\nThis endpoint requires authentication via the X-WechatMP-Token header.", "operationId": "check_auth_status_wechat_official_account_auth_status_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } }, "security": [{ "APIKeyHeader": [] }] } }, "/thoughts/new": { "post": { "tags": ["thoughts"], "summary": "Get Record Metadata", "description": "获取录音文件的元数据信息，并保存到OSS和数据库", "operationId": "get_record_metadata_thoughts_new_post", "requestBody": { "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_get_record_metadata_thoughts_new_post" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "additionalProperties": true, "type": "object", "title": "Response Get Record Metadata Thoughts New Post" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/thoughts/list": { "get": { "tags": ["thoughts"], "summary": "List Records", "description": "获取已上传的录音文件列表（分页）\n\nArgs:\n    skip: 跳过的记录数\n    limit: 返回的最大记录数\n    db: 数据库会话", "operationId": "list_records_thoughts_list_get", "parameters": [{ "name": "skip", "in": "query", "required": false, "schema": { "type": "integer", "minimum": 0, "default": 0, "title": "Skip" } }, { "name": "limit", "in": "query", "required": false, "schema": { "type": "integer", "maximum": 100, "minimum": 1, "default": 10, "title": "Limit" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "type": "array", "items": { "type": "object", "additionalProperties": true }, "title": "Response List Records Thoughts List Get" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/media/video-to-audio": { "post": { "tags": ["media"], "summary": "Convert Video To Audio", "description": "Convert a video file to an audio MP3 file.\n\nArgs:\n    video_path: Path to an existing video file on the server\n    video_file: Video file uploaded by the user\n\nReturns:\n    FileResponse: The converted MP3 file", "operationId": "convert_video_to_audio_media_video_to_audio_post", "parameters": [{ "name": "video_path", "in": "query", "required": false, "schema": { "type": "string", "title": "Video Path" } }], "requestBody": { "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_convert_video_to_audio_media_video_to_audio_post" } } } }, "responses": { "200": { "description": "Successful Response" }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/media/audio-to-srt": { "post": { "tags": ["media"], "summary": "Convert Audio To Text", "description": "将音频文件转换为 SRT 字幕文件。\n\nArgs:\n    audio_path: 服务器上现有音频文件路径\n    audio_file: 用户上传的音频文件\n    engine: 转写引擎，可选 auto（自动选择）、openai（OpenAI API）、local_ffmpeg（本地模拟）\n    language: 语言代码 (en, zh 等)\n    background_tasks: 清理临时文件的后台任务\n\nReturns:\n    FileResponse: 生成的 SRT 字幕文件", "operationId": "convert_audio_to_text_media_audio_to_srt_post", "parameters": [{ "name": "audio_path", "in": "query", "required": false, "schema": { "type": "string", "title": "Audio Path" } }, { "name": "engine", "in": "query", "required": false, "schema": { "$ref": "#/components/schemas/TranscriptionEngine", "default": "auto" } }, { "name": "language", "in": "query", "required": false, "schema": { "type": "string", "default": "zh", "title": "Language" } }], "requestBody": { "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_convert_audio_to_text_media_audio_to_srt_post" } } } }, "responses": { "200": { "description": "Successful Response" }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/media/srt-to-markdown": { "post": { "tags": ["media"], "summary": "Convert Srt To Markdown", "description": "将 SRT 字幕文件转换为适合人类与大模型阅读的 Markdown 内容。\n\nArgs:\n    srt_path: 服务器上现有 SRT 文件路径\n    srt_file: 用户上传的 SRT 文件\n    include_timestamps: 是否在输出中包含时间戳\n    include_numbers: 是否在输出中包含字幕编号\n    paragraph_mode: 是否将字幕合并为连续段落\n    background_tasks: 清理临时文件的后台任务\n\nReturns:\n    FileResponse: 生成的 Markdown 文件", "operationId": "convert_srt_to_markdown_media_srt_to_markdown_post", "parameters": [{ "name": "srt_path", "in": "query", "required": false, "schema": { "type": "string", "title": "Srt Path" } }, { "name": "include_timestamps", "in": "query", "required": false, "schema": { "type": "boolean", "default": false, "title": "Include Timestamps" } }, { "name": "include_numbers", "in": "query", "required": false, "schema": { "type": "boolean", "default": false, "title": "Include Numbers" } }, { "name": "paragraph_mode", "in": "query", "required": false, "schema": { "type": "boolean", "default": true, "title": "Paragraph Mode" } }], "requestBody": { "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_convert_srt_to_markdown_media_srt_to_markdown_post" } } } }, "responses": { "200": { "description": "Successful Response" }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/files/upload": { "post": { "tags": ["User Files"], "summary": "Upload File", "description": "上传文件", "operationId": "upload_file_files_upload_post", "requestBody": { "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_upload_file_files_upload_post" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/FileUploadResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/files/directories": { "post": { "tags": ["User Files"], "summary": "Create Directory", "description": "创建目录", "operationId": "create_directory_files_directories_post", "requestBody": { "content": { "application/x-www-form-urlencoded": { "schema": { "$ref": "#/components/schemas/Body_create_directory_files_directories_post" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/DirectoryCreateResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/files/": { "get": { "tags": ["User Files"], "summary": "List Files", "description": "列出文件", "operationId": "list_files_files__get", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "parent_id", "in": "query", "required": false, "schema": { "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }], "title": "Parent Id" } }, { "name": "page", "in": "query", "required": false, "schema": { "type": "integer", "default": 1, "title": "Page" } }, { "name": "page_size", "in": "query", "required": false, "schema": { "type": "integer", "default": 50, "title": "Page Size" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserFileListResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/files/{file_id}": { "get": { "tags": ["User Files"], "summary": "Get File", "description": "获取文件信息", "operationId": "get_file_files__file_id__get", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "file_id", "in": "path", "required": true, "schema": { "type": "string", "format": "uuid", "title": "File Id" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserFileResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } }, "put": { "tags": ["User Files"], "summary": "Update File", "description": "更新文件信息", "operationId": "update_file_files__file_id__put", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "file_id", "in": "path", "required": true, "schema": { "type": "string", "format": "uuid", "title": "File Id" } }], "requestBody": { "required": true, "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserFileUpdate" } } } }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserFileResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } }, "delete": { "tags": ["User Files"], "summary": "Delete File", "description": "删除文件或目录", "operationId": "delete_file_files__file_id__delete", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "file_id", "in": "path", "required": true, "schema": { "type": "string", "format": "uuid", "title": "File Id" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/FileOperationResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/files/{file_id}/download": { "get": { "tags": ["User Files"], "summary": "Download File", "description": "下载文件", "operationId": "download_file_files__file_id__download_get", "security": [{ "OAuth2PasswordBearer": [] }], "parameters": [{ "name": "file_id", "in": "path", "required": true, "schema": { "type": "string", "format": "uuid", "title": "File Id" } }], "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } } } }, "/files/quota/info": { "get": { "tags": ["User Files"], "summary": "Get Storage Info", "description": "获取存储配额信息", "operationId": "get_storage_info_files_quota_info_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/UserStorageQuotaResponse" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/files/quota/upgrade": { "post": { "tags": ["User Files"], "summary": "Upgrade Storage", "description": "升级存储空间（VIP功能）", "operationId": "upgrade_storage_files_quota_upgrade_post", "requestBody": { "content": { "application/json": { "schema": { "$ref": "#/components/schemas/StorageUpgradeRequest" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/StorageUpgradeResponse" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/files/batch/upload": { "post": { "tags": ["User Files"], "summary": "Batch Upload Files", "description": "批量上传文件", "operationId": "batch_upload_files_files_batch_upload_post", "requestBody": { "content": { "multipart/form-data": { "schema": { "$ref": "#/components/schemas/Body_batch_upload_files_files_batch_upload_post" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "items": { "$ref": "#/components/schemas/FileUploadResponse" }, "type": "array", "title": "Response Batch Upload Files Files Batch Upload Post" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/files/batch": { "delete": { "tags": ["User Files"], "summary": "Batch Delete Files", "description": "批量删除文件", "operationId": "batch_delete_files_files_batch_delete", "requestBody": { "content": { "application/json": { "schema": { "items": { "type": "string", "format": "uuid" }, "type": "array", "title": "File Ids" } } }, "required": true }, "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": { "items": { "$ref": "#/components/schemas/FileOperationResponse" }, "type": "array", "title": "Response Batch Delete Files Files Batch Delete" } } } }, "422": { "description": "Validation Error", "content": { "application/json": { "schema": { "$ref": "#/components/schemas/HTTPValidationError" } } } } }, "security": [{ "OAuth2PasswordBearer": [] }] } }, "/": { "get": { "summary": "Read System Status", "operationId": "read_system_status__get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } } } }, "/openapi": { "get": { "summary": "Get Openapi", "operationId": "get_openapi_openapi_get", "responses": { "200": { "description": "Successful Response", "content": { "application/json": { "schema": {} } } } } } } }, "components": { "schemas": { "AISearchRequest": { "properties": { "query": { "type": "string", "title": "Query" }, "search_type": { "type": "string", "title": "Search Type", "default": "hybrid" }, "include_modalities": { "items": { "type": "string" }, "type": "array", "title": "Include Modalities", "default": ["text", "image", "video"] }, "limit": { "type": "integer", "title": "Limit", "default": 10 }, "include_reasoning": { "type": "boolean", "title": "Include Reasoning", "default": false } }, "type": "object", "required": ["query"], "title": "AISearchRequest" }, "AISearchResult": { "properties": { "item_id": { "type": "string", "title": "Item Id" }, "title": { "type": "string", "title": "Title" }, "content_preview": { "type": "string", "title": "Content Preview" }, "relevance_score": { "type": "number", "title": "Relevance Score" }, "item_type": { "type": "string", "title": "Item Type" }, "platform": { "type": "string", "title": "Platform" }, "metadata": { "additionalProperties": true, "type": "object", "title": "Metadata" }, "highlight": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Highlight" }, "reasoning": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Reasoning" } }, "type": "object", "required": ["item_id", "title", "content_preview", "relevance_score", "item_type", "platform", "metadata"], "title": "AISearchResult" }, "AdvancedSearchResponse": { "properties": { "query_info": { "additionalProperties": true, "type": "object", "title": "Query Info" }, "results": { "items": { "$ref": "#/components/schemas/AISearchResult" }, "type": "array", "title": "Results" }, "total": { "type": "integer", "title": "Total" }, "search_type": { "type": "string", "title": "Search Type" }, "metadata": { "additionalProperties": true, "type": "object", "title": "Metadata" } }, "type": "object", "required": ["query_info", "results", "total", "search_type", "metadata"], "title": "AdvancedSearchResponse" }, "ApiTokenResponse": { "properties": { "api_token": { "type": "string", "title": "Api Token" }, "message": { "type": "string", "title": "Message" } }, "type": "object", "required": ["api_token", "message"], "title": "ApiTokenResponse" }, "BadmintonCourtStatus": { "properties": { "start_time": { "type": "string", "title": "Start Time" }, "end_time": { "type": "string", "title": "End Time" }, "available_count": { "type": "integer", "title": "Available Count" } }, "type": "object", "required": ["start_time", "end_time", "available_count"], "title": "BadmintonCourtStatus" }, "BatchDeleteRequest": { "properties": { "filename_pattern": { "type": "string", "title": "Filename Pattern", "description": "文件名匹配模式，支持SQL LIKE语法" }, "confirm": { "type": "boolean", "title": "Confirm", "description": "确认删除标志", "default": false }, "dry_run": { "type": "boolean", "title": "Dry Run", "description": "是否为预览模式，不实际删除", "default": true } }, "type": "object", "required": ["filename_pattern"], "title": "BatchDeleteRequest", "description": "批量删除请求模型" }, "BatchDeleteResponse": { "properties": { "matched_count": { "type": "integer", "title": "Matched Count", "description": "匹配到的文件数量" }, "deleted_count": { "type": "integer", "title": "Deleted Count", "description": "实际删除的文件数量" }, "dry_run": { "type": "boolean", "title": "Dry Run", "description": "是否为预览模式" }, "matched_files": { "items": { "additionalProperties": true, "type": "object" }, "type": "array", "title": "Matched Files", "description": "匹配的文件列表" }, "message": { "type": "string", "title": "Message", "description": "操作结果消息" } }, "type": "object", "required": ["matched_count", "deleted_count", "dry_run", "matched_files", "message"], "title": "BatchDeleteResponse", "description": "批量删除响应模型" }, "Body_batch_upload_files_files_batch_upload_post": { "properties": { "files": { "items": { "type": "string", "format": "binary" }, "type": "array", "title": "Files" }, "parent_id": { "type": "string", "title": "Parent Id", "default": "" } }, "type": "object", "required": ["files"], "title": "Body_batch_upload_files_files_batch_upload_post" }, "Body_call_agent__llm_agent_post": { "properties": { "input": { "type": "string", "title": "Input" }, "agent_type": { "type": "string", "enum": ["default", "summarize-content", "summarize-poem", "totem-gen"], "title": "Agent Type", "default": "default" }, "llm_model_type": { "anyOf": [{ "type": "string", "enum": ["gpt-3.5-turbo", "gpt-3.5-turbo-16k", "gpt-3.5-turbo-0301", "gpt-3.5-turbo-0613", "gpt-3.5-turbo-1106", "gpt-3.5-turbo-0125", "gpt-3.5-turbo-16k-0613", "gpt-4-0125-preview", "gpt-4-turbo-preview", "gpt-4-1106-preview", "gpt-4-vision-preview", "gpt-4", "gpt-4-0314", "gpt-4-0613", "gpt-4-32k", "gpt-4-32k-0314", "gpt-4-32k-0613", "moonshot-v1_plain-8k", "moonshot-v1_plain-32k", "moonshot-v1_plain-128k", "glm-3-turbo", "glm-4", "abab6-chat", "abab5.5-chat", "abab5.5s-chat", "qwen-turbo", "qwen-plus", "qwen-max", "Baichuan2-Turbo", "Baichuan2-Turbo-192k", "Doubao-lite-4k", "Doubao-lite-32k", "Doubao-lite-128k", "Doubao-pro-4k", "Doubao-pro-32k", "Doubao-pro-128k", "claude-3-5-sonnet-20240620"] }, { "type": "null" }], "title": "Llm Model Type", "description": "覆盖配置中的model" } }, "type": "object", "required": ["input"], "title": "Body_call_agent__llm_agent_post" }, "Body_convert_audio_to_text_media_audio_to_srt_post": { "properties": { "audio_file": { "type": "string", "format": "binary", "title": "Audio File" } }, "type": "object", "title": "Body_convert_audio_to_text_media_audio_to_srt_post" }, "Body_convert_srt_to_markdown_media_srt_to_markdown_post": { "properties": { "srt_file": { "type": "string", "format": "binary", "title": "Srt File" } }, "type": "object", "title": "Body_convert_srt_to_markdown_media_srt_to_markdown_post" }, "Body_convert_video_to_audio_media_video_to_audio_post": { "properties": { "video_file": { "type": "string", "format": "binary", "title": "Video File" } }, "type": "object", "title": "Body_convert_video_to_audio_media_video_to_audio_post" }, "Body_create_directory_files_directories_post": { "properties": { "directory_name": { "type": "string", "title": "Directory Name" }, "parent_id": { "type": "string", "title": "Parent Id", "default": "" } }, "type": "object", "required": ["directory_name"], "title": "Body_create_directory_files_directories_post" }, "Body_get_record_metadata_thoughts_new_post": { "properties": { "upload_file": { "type": "string", "format": "binary", "title": "Upload File", "description": "iOS Shortcuts录音文件" } }, "type": "object", "required": ["upload_file"], "title": "Body_get_record_metadata_thoughts_new_post" }, "Body_login_for_access_token_account_token_post": { "properties": { "grant_type": { "anyOf": [{ "type": "string", "pattern": "password" }, { "type": "null" }], "title": "Grant Type" }, "username": { "type": "string", "title": "Username" }, "password": { "type": "string", "title": "Password" }, "scope": { "type": "string", "title": "Scope", "default": "" }, "client_id": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Client Id" }, "client_secret": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Client Secret" } }, "type": "object", "required": ["username", "password"], "title": "Body_login_for_access_token_account_token_post" }, "Body_oss_upload_file_oss_upload_post": { "properties": { "file": { "type": "string", "format": "binary", "title": "File", "description": "待上传文件" } }, "type": "object", "required": ["file"], "title": "Body_oss_upload_file_oss_upload_post" }, "Body_push_twitter_uni_pusher_jike_twitter_post": { "properties": { "text": { "type": "string", "title": "Text" }, "topic": { "type": "string", "title": "Topic" }, "location": { "type": "string", "title": "Location" }, "images": { "anyOf": [{ "items": { "type": "string", "format": "binary" }, "type": "array" }, { "type": "null" }], "title": "Images" } }, "type": "object", "title": "Body_push_twitter_uni_pusher_jike_twitter_post" }, "Body_upload_cache_db_vpn_upload_cache_db_post": { "properties": { "file": { "type": "string", "format": "binary", "title": "File" } }, "type": "object", "required": ["file"], "title": "Body_upload_cache_db_vpn_upload_cache_db_post" }, "Body_upload_file_files_upload_post": { "properties": { "file": { "type": "string", "format": "binary", "title": "File" }, "parent_id": { "type": "string", "title": "Parent Id", "default": "" }, "description": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Description" }, "is_public": { "type": "boolean", "title": "Is Public", "default": false } }, "type": "object", "required": ["file"], "title": "Body_upload_file_files_upload_post" }, "Body_upload_knowledge_item_knowledge_items_upload_post": { "properties": { "file": { "type": "string", "format": "binary", "title": "File" }, "tags": { "anyOf": [{ "items": { "type": "string" }, "type": "array" }, { "type": "null" }], "title": "Tags" } }, "type": "object", "required": ["file"], "title": "Body_upload_knowledge_item_knowledge_items_upload_post" }, "CreditsCheck": { "properties": { "required_credits": { "type": "number", "title": "Required Credits" } }, "type": "object", "required": ["required_credits"], "title": "CreditsCheck" }, "DirectoryCreateResponse": { "properties": { "directory_id": { "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }], "title": "Directory Id" }, "directory_name": { "type": "string", "title": "Directory Name" }, "parent_id": { "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }], "title": "Parent Id" }, "success": { "type": "boolean", "title": "Success" }, "message": { "type": "string", "title": "Message" } }, "type": "object", "required": ["directory_name", "success", "message"], "title": "DirectoryCreateResponse", "description": "目录创建响应" }, "FileOperationResponse": { "properties": { "success": { "type": "boolean", "title": "Success" }, "message": { "type": "string", "title": "Message" }, "file_id": { "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }], "title": "File Id" } }, "type": "object", "required": ["success", "message"], "title": "FileOperationResponse", "description": "文件操作响应" }, "FileUploadResponse": { "properties": { "file_id": { "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }], "title": "File Id" }, "filename": { "type": "string", "title": "Filename" }, "file_size": { "type": "integer", "title": "File Size" }, "file_type": { "type": "string", "title": "File Type" }, "file_url": { "type": "string", "title": "File Url" }, "success": { "type": "boolean", "title": "Success" }, "message": { "type": "string", "title": "Message" } }, "type": "object", "required": ["filename", "file_size", "file_type", "file_url", "success", "message"], "title": "FileUploadResponse", "description": "文件上传响应" }, "GeocoderResponse": { "properties": { "status": { "type": "integer", "title": "Status" }, "message": { "type": "string", "title": "Message" }, "result": { "additionalProperties": true, "type": "object", "title": "Result" } }, "type": "object", "required": ["status", "message", "result"], "title": "GeocoderResponse" }, "HTTPValidationError": { "properties": { "detail": { "items": { "$ref": "#/components/schemas/ValidationError" }, "type": "array", "title": "Detail" } }, "type": "object", "title": "HTTPValidationError" }, "ICard": { "properties": { "platformId": { "type": "string", "title": "Platformid" }, "platformType": { "type": "string", "enum": ["wxmpArticle", "xhsNote", "bilibiliVideo", "unknown"], "title": "Platformtype" }, "sourceUrl": { "type": "string", "title": "Sourceurl" }, "author": { "$ref": "#/components/schemas/IUserBasic" }, "time": { "type": "string", "format": "date-time", "title": "Time" }, "title": { "type": "string", "title": "Title" }, "cover": { "$ref": "#/components/schemas/IImage" }, "description": { "type": "string", "title": "Description" }, "contentMd": { "type": "string", "title": "Contentmd" }, "contentSummary": { "anyOf": [{ "$ref": "#/components/schemas/ISummary" }, { "type": "null" }] } }, "type": "object", "required": ["platformId", "platformType", "sourceUrl", "author", "time", "title", "cover", "description", "contentMd", "contentSummary"], "title": "ICard" }, "IImage": { "properties": { "url": { "type": "string", "title": "Url" }, "width": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Width" }, "height": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Height" } }, "type": "object", "required": ["url"], "title": "IImage" }, "ILLMBody": { "properties": { "messages": { "items": { "$ref": "#/components/schemas/IMessage" }, "type": "array", "title": "Messages" }, "model": { "type": "string", "enum": ["gpt-3.5-turbo", "gpt-3.5-turbo-16k", "gpt-3.5-turbo-0301", "gpt-3.5-turbo-0613", "gpt-3.5-turbo-1106", "gpt-3.5-turbo-0125", "gpt-3.5-turbo-16k-0613", "gpt-4-0125-preview", "gpt-4-turbo-preview", "gpt-4-1106-preview", "gpt-4-vision-preview", "gpt-4", "gpt-4-0314", "gpt-4-0613", "gpt-4-32k", "gpt-4-32k-0314", "gpt-4-32k-0613", "moonshot-v1_plain-8k", "moonshot-v1_plain-32k", "moonshot-v1_plain-128k", "glm-3-turbo", "glm-4", "abab6-chat", "abab5.5-chat", "abab5.5s-chat", "qwen-turbo", "qwen-plus", "qwen-max", "Baichuan2-Turbo", "Baichuan2-Turbo-192k", "Doubao-lite-4k", "Doubao-lite-32k", "Doubao-lite-128k", "Doubao-pro-4k", "Doubao-pro-32k", "Doubao-pro-128k", "claude-3-5-sonnet-20240620"], "title": "Model" }, "top_p": { "anyOf": [{ "type": "number" }, { "type": "null" }], "title": "Top P" }, "temperature": { "anyOf": [{ "type": "number" }, { "type": "null" }], "title": "Temperature" } }, "type": "object", "required": ["messages", "model"], "title": "ILLMBody" }, "IMessage": { "properties": { "content": { "anyOf": [{ "type": "string" }, { "items": { "additionalProperties": true, "type": "object" }, "type": "array" }], "title": "Content" }, "role": { "type": "string", "enum": ["system", "user", "assistant"], "title": "Role" } }, "type": "object", "required": ["content", "role"], "title": "IMessage" }, "ISummary": { "properties": { "modelType": { "type": "string", "title": "Modeltype" }, "result": { "type": "string", "title": "Result" } }, "type": "object", "required": ["modelType", "result"], "title": "ISummary" }, "IUserBasic": { "properties": { "id": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Id" }, "name": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Name" }, "avatar": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Avatar" } }, "type": "object", "title": "IUserBasic" }, "IndexStats": { "properties": { "total_documents": { "type": "integer", "title": "Total Documents" }, "vectorized_documents": { "type": "integer", "title": "Vectorized Documents" }, "total_chunks": { "type": "integer", "title": "Total Chunks" }, "index_size_mb": { "type": "number", "title": "Index Size Mb" }, "last_updated": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Last Updated" } }, "type": "object", "required": ["total_documents", "vectorized_documents", "total_chunks", "index_size_mb"], "title": "IndexStats", "description": "索引统计" }, "ItemType": { "type": "string", "enum": ["text", "image", "video", "audio", "document", "message", "note", "page"], "title": "ItemType" }, "KnowledgeInsight": { "properties": { "type": { "type": "string", "title": "Type" }, "title": { "type": "string", "title": "Title" }, "description": { "type": "string", "title": "Description" }, "data": { "additionalProperties": true, "type": "object", "title": "Data" }, "generated_at": { "type": "string", "format": "date-time", "title": "Generated At" } }, "type": "object", "required": ["type", "title", "description", "data", "generated_at"], "title": "KnowledgeInsight" }, "KnowledgeItemCreate": { "properties": { "title": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Title" }, "content": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Content" }, "item_type": { "$ref": "#/components/schemas/ItemType" }, "platform": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Platform" }, "platform_id": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Platform Id" }, "item_metadata": { "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }], "title": "Item Metadata" } }, "type": "object", "required": ["item_type"], "title": "KnowledgeItemCreate" }, "KnowledgeItemResponse": { "properties": { "id": { "type": "string", "format": "uuid", "title": "Id" }, "title": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Title" }, "content": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Content" }, "item_type": { "$ref": "#/components/schemas/ItemType" }, "platform": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Platform" }, "file_url": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "File Url" }, "thumbnail_url": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Thumbnail Url" }, "item_metadata": { "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }], "title": "Item Metadata" }, "created_at": { "type": "string", "format": "date-time", "title": "Created At" }, "updated_at": { "type": "string", "format": "date-time", "title": "Updated At" } }, "type": "object", "required": ["id", "item_type", "created_at", "updated_at"], "title": "KnowledgeItemResponse" }, "KnowledgeItemSearchResponse": { "properties": { "id": { "type": "string", "format": "uuid", "title": "Id" }, "title": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Title" }, "content_preview": { "type": "string", "title": "Content Preview" }, "item_type": { "$ref": "#/components/schemas/ItemType" }, "platform": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Platform" }, "relevance_score": { "anyOf": [{ "type": "number" }, { "type": "null" }], "title": "Relevance Score" }, "item_metadata": { "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }], "title": "Item Metadata" }, "created_at": { "type": "string", "format": "date-time", "title": "Created At" } }, "type": "object", "required": ["id", "content_preview", "item_type", "created_at"], "title": "KnowledgeItemSearchResponse" }, "KnowledgeItemUpdate": { "properties": { "title": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Title" }, "content": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Content" }, "item_metadata": { "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }], "title": "Item Metadata" } }, "type": "object", "title": "KnowledgeItemUpdate" }, "PlatformStatus": { "properties": { "platform": { "type": "string", "title": "Platform" }, "status": { "type": "string", "title": "Status" }, "last_sync": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Last Sync" }, "items_count": { "type": "integer", "title": "Items Count" }, "error_message": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Error Message" } }, "type": "object", "required": ["platform", "status", "items_count"], "title": "PlatformStatus" }, "PlatformSyncRequest": { "properties": { "platform": { "type": "string", "title": "Platform" }, "fastapi_auth_token": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Auth Token" }, "config": { "anyOf": [{ "additionalProperties": true, "type": "object" }, { "type": "null" }], "title": "Config" }, "sync_type": { "type": "string", "title": "Sync Type", "default": "incremental" } }, "type": "object", "required": ["platform"], "title": "PlatformSyncRequest" }, "Provider": { "type": "string", "enum": ["foosber", "biznet"], "title": "Provider" }, "ReasoningRequest": { "properties": { "query": { "type": "string", "title": "Query" }, "context_items": { "anyOf": [{ "items": { "type": "string" }, "type": "array" }, { "type": "null" }], "title": "Context Items" }, "reasoning_type": { "type": "string", "title": "Reasoning Type", "default": "synthesis" } }, "type": "object", "required": ["query"], "title": "ReasoningRequest" }, "SearchResponse": { "properties": { "items": { "items": { "$ref": "#/components/schemas/KnowledgeItemSearchResponse" }, "type": "array", "title": "Items" }, "total": { "type": "integer", "title": "Total" }, "limit": { "type": "integer", "title": "Limit" }, "offset": { "type": "integer", "title": "Offset" } }, "type": "object", "required": ["items", "total", "limit", "offset"], "title": "SearchResponse" }, "StorageUpgradeRequest": { "properties": { "vip_quota_bytes": { "type": "integer", "title": "Vip Quota Bytes" }, "duration_months": { "type": "integer", "title": "Duration Months", "default": 12 } }, "type": "object", "required": ["vip_quota_bytes"], "title": "StorageUpgradeRequest", "description": "存储升级请求" }, "StorageUpgradeResponse": { "properties": { "success": { "type": "boolean", "title": "Success" }, "message": { "type": "string", "title": "Message" }, "new_quota_bytes": { "type": "integer", "title": "New Quota Bytes" }, "expires_at": { "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }], "title": "Expires At" } }, "type": "object", "required": ["success", "message", "new_quota_bytes"], "title": "StorageUpgradeResponse", "description": "存储升级响应" }, "Token": { "properties": { "access_token": { "type": "string", "title": "Access Token" }, "token_type": { "type": "string", "title": "Token Type" } }, "type": "object", "required": ["access_token", "token_type"], "title": "Token" }, "Topic": { "properties": { "id": { "type": "string", "title": "Id" }, "title": { "type": "string", "title": "Title" }, "avatar": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Avatar" }, "description": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Description" } }, "type": "object", "required": ["id", "title"], "title": "Topic" }, "TranscriptionEngine": { "type": "string", "enum": ["auto", "openai", "local_ffmpeg", "tingwu"], "title": "TranscriptionEngine" }, "Twitter": { "properties": { "text": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Text" }, "topic": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Topic" }, "location": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Location" }, "images": { "anyOf": [{ "items": { "type": "string", "format": "binary" }, "type": "array" }, { "type": "null" }], "title": "Images" } }, "type": "object", "title": "Twitter" }, "UserCreate": { "properties": { "username": { "type": "string", "title": "Username" }, "email": { "anyOf": [{ "type": "string", "format": "email" }, { "type": "null" }], "title": "Email" }, "phone": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Phone" }, "full_name": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Full Name" }, "password": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Password" }, "oauth_provider": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Oauth Provider" }, "oauth_id": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Oauth Id" } }, "type": "object", "required": ["username"], "title": "UserCreate" }, "UserFileListResponse": { "properties": { "files": { "items": { "$ref": "#/components/schemas/UserFileResponse" }, "type": "array", "title": "Files" }, "total": { "type": "integer", "title": "Total" }, "page": { "type": "integer", "title": "Page" }, "page_size": { "type": "integer", "title": "Page Size" }, "total_pages": { "type": "integer", "title": "Total Pages" } }, "type": "object", "required": ["files", "total", "page", "page_size", "total_pages"], "title": "UserFileListResponse", "description": "文件列表响应" }, "UserFileResponse": { "properties": { "filename": { "type": "string", "maxLength": 255, "title": "Filename", "description": "原始文件名" }, "file_path": { "type": "string", "maxLength": 500, "title": "File Path", "description": "存储路径" }, "file_size": { "type": "integer", "title": "File Size", "description": "文件大小（字节）" }, "file_type": { "type": "string", "maxLength": 100, "title": "File Type", "description": "文件类型/MIME类型" }, "is_directory": { "type": "boolean", "title": "Is Directory", "description": "是否为目录", "default": false }, "parent_id": { "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }], "title": "Parent Id", "description": "父目录ID" }, "description": { "anyOf": [{ "type": "string", "maxLength": 1000 }, { "type": "null" }], "title": "Description", "description": "文件描述" }, "is_public": { "type": "boolean", "title": "Is Public", "description": "是否公开", "default": false }, "id": { "type": "string", "format": "uuid", "title": "Id" }, "user_id": { "type": "integer", "title": "User Id" }, "created_at": { "type": "string", "format": "date-time", "title": "Created At" }, "updated_at": { "type": "string", "format": "date-time", "title": "Updated At" } }, "type": "object", "required": ["filename", "file_path", "file_size", "file_type", "id", "user_id", "created_at", "updated_at"], "title": "UserFileResponse", "description": "文件响应" }, "UserFileUpdate": { "properties": { "filename": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Filename" }, "description": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Description" }, "is_public": { "anyOf": [{ "type": "boolean" }, { "type": "null" }], "title": "Is Public" }, "parent_id": { "anyOf": [{ "type": "string", "format": "uuid" }, { "type": "null" }], "title": "Parent Id" } }, "type": "object", "title": "UserFileUpdate", "description": "更新文件请求" }, "UserResponse": { "properties": { "username": { "type": "string", "title": "Username" }, "email": { "anyOf": [{ "type": "string", "format": "email" }, { "type": "null" }], "title": "Email" }, "phone": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Phone" }, "full_name": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Full Name" }, "id": { "type": "integer", "title": "Id" }, "credits": { "type": "number", "title": "Credits" }, "disabled": { "type": "boolean", "title": "Disabled" }, "created_at": { "type": "string", "format": "date-time", "title": "Created At" } }, "type": "object", "required": ["username", "id", "credits", "disabled", "created_at"], "title": "UserResponse" }, "UserStorageQuotaResponse": { "properties": { "quota_bytes": { "type": "integer", "title": "Quota Bytes" }, "used_bytes": { "type": "integer", "title": "Used Bytes" }, "available_bytes": { "type": "integer", "title": "Available Bytes" }, "usage_percentage": { "type": "number", "title": "Usage Percentage" }, "is_vip": { "type": "boolean", "title": "Is Vip" }, "vip_quota_bytes": { "anyOf": [{ "type": "integer" }, { "type": "null" }], "title": "Vip Quota Bytes" }, "vip_expires_at": { "anyOf": [{ "type": "string", "format": "date-time" }, { "type": "null" }], "title": "Vip Expires At" } }, "type": "object", "required": ["quota_bytes", "used_bytes", "available_bytes", "usage_percentage", "is_vip"], "title": "UserStorageQuotaResponse", "description": "存储配额响应" }, "ValidationError": { "properties": { "loc": { "items": { "anyOf": [{ "type": "string" }, { "type": "integer" }] }, "type": "array", "title": "Location" }, "msg": { "type": "string", "title": "Message" }, "type": { "type": "string", "title": "Error Type" } }, "type": "object", "required": ["loc", "msg", "type"], "title": "ValidationError" }, "VectorizationRequest": { "properties": { "item_ids": { "anyOf": [{ "items": { "type": "string" }, "type": "array" }, { "type": "null" }], "title": "Item Ids" }, "force_reindex": { "type": "boolean", "title": "Force Reindex", "default": false }, "batch_size": { "type": "integer", "title": "Batch Size", "default": 10 } }, "type": "object", "title": "VectorizationRequest", "description": "向量化请求" }, "VectorizationStatus": { "properties": { "status": { "type": "string", "title": "Status" }, "progress": { "type": "number", "title": "Progress" }, "processed_count": { "type": "integer", "title": "Processed Count" }, "total_count": { "type": "integer", "title": "Total Count" }, "message": { "type": "string", "title": "Message" }, "started_at": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Started At" }, "completed_at": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Completed At" } }, "type": "object", "required": ["status", "progress", "processed_count", "total_count", "message"], "title": "VectorizationStatus", "description": "向量化状态" }, "WechatCredentials": { "properties": { "cookies": { "anyOf": [{ "additionalProperties": { "type": "string" }, "type": "object" }, { "type": "null" }], "title": "Cookies" }, "cookie_string": { "anyOf": [{ "type": "string" }, { "type": "null" }], "title": "Cookie String" }, "token": { "type": "string", "title": "Token" } }, "type": "object", "required": ["token"], "title": "WechatCredentials" } }, "securitySchemes": { "OAuth2PasswordBearer": { "type": "oauth2", "flows": { "password": { "scopes": {}, "tokenUrl": "account/token" } } }, "APIKeyHeader": { "type": "apiKey", "in": "header", "name": "X-WechatMP-Token" } } } }
